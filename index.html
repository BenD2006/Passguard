<!DOCTYPE html>
<html lang='en'>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<head>
    <link rel="stylesheet" href="styles.css">
    <title>Password Management System</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <script src="script.js"></script>
</head>
<body class = "highlight">

    <div id="loginWindow" class="modal">
        <h1>PassGuard</h1>
        <form class="modal-content" action="#">
          <div class="container">
            <label for="login-username">Username</label> <br>
            <input type="text" placeholder="" id="login-username" required> <br><br>
      
            <label for="login-password">Password</label> <br>
            <input type="password" placeholder="" id="login-password" required>
      
            <br><br><button type="button" onclick=login() style="height: 40px; width: 300px;">Login</button>
            <br><button type="button" onclick="document.getElementById('forgotpassword').style.display = 'flex'" style = "height: 40px; width: 300px;">Forgot Password</button>
            <br><button type="button" onclick=createAccountWindow() style="height: 40px; width: 300px;">Create Account</button>
          </div>
          <div id="createAccount" class="modal" style="display: none;">
            <div style="justify-content: center; align-items: center; height: 100%; flex-direction: column;"></div>
                <button id="forgotmodalclose" onclick="document.getElementById('createAccount').style.display = 'none'" type="button" style="position:absolute; right:30px; top:10px;">Close</button>
                <div style="display: flex; justify-content: center; gap: 20px;">
                    <div>
                        <label for="login-username-new">Create Username</label> <br>
                        <input type="text" placeholder="" id="login-username-new" required> <br><br>
                        <label for="login-password-new">Create Password</label> <br>
                        <input type="password" placeholder="" id="login-password-new" required> <br>
                    </div>
                    <div style="margin-top: 180px; text-align: center;">
                        <button type="button" onclick=createAccount() style="height: 40px; width: 100px;">Login</button>
                    </div>
                    <div>
                        <label for="sq1">What Primary School Did you attend?</label> <br>
                        <input type="text" id="sq1-answer" required> <br><br>
                        <label for="sq2">Set a security number (4 digits)?</label> <br>
                        <input type="text" id="sq2-answer" required> <br>
                    </div>
                </div>
                </div>
    </div>
  
    <div id="forgotpassword" class="modal" style="display:none;">
            <button id="forgotmodalclose" onclick="document.getElementById('forgotpassword').style.display = 'none'" type="button" style="position:absolute; right:30px; top:10px;" >Close</button>
              <div id="forgot" align="center">
                <div id="questions" align="center">
                  <h2>Please answer the security questions</h2>
                  <br><label for="sq1">Security Question 1 - What Primary School Did you attend? </label> <br>
                  <input type="text" id="sq1-answer-fg" style="width:400px;" required> <br>
                  <br><label for="sq2">Security Question 2 - Set a security number (4 digits)? </label> <br>
                  <input type="text" id="sq2-answer-fg" style="width:400px;" required> <br>
                  <br><button type="button" onclick=forgotPassword() style = "height: 40px; width: 300px;">Submit</button>
                </div>
              <div id="passreset" style="display: none; text-align: center; flex-direction: column; align-items: center;">
                  <label for="newpassword" style="margin-bottom: 10px;">New Password</label>
                  <input type="password" id="newPass" required style=" margin: 0 auto; margin-bottom: 20px;">
                  <button type="button" onclick="newPassword()" style="height: 40px; width: 300px; margin: 0 auto;">Submit</button>
              </div>
              </div>
    </div>

    <div id="editpasswordmodal" class="editmodal" style="display:none;">
        <button id="savemodalclose" onclick="document.getElementById('editpasswordmodal').style.display = 'none'; document.getElementById('mainContainer').style.display='flex'" type="button">Close</button>
        <h2>Edit Password</h2>
        <form class="modal-content">
            <div style="display: flex; flex-direction: column; align-items: center;">
                <label for="editwebpage">Website Name:</label>
                <input type="text" id="editwebpage" name="editwebpage" style="width: 500px;"><br>
    
                <label for="editusername">Username/Email:</label>
                <input type="text" id="editusername" name="editusername" style="width: 500px;"><br>
    
                <label for="editpassword">Password:</label>
                <input type="password" id="editpassword" name="editpassword" style="width: 500px;"><br><br>
    
                <button onclick="editPassword()" type="button" style="height: 40px; width: 500px;">Submit</button>
            </div>
        </form>
    </div>

    <div id="mainContainer" class="responsive-container" style="display:none;">
        <h1>PassGuard</h1> 
        <div id="menuRight">
            <button type="button" class="logoutbutton" onclick=logout()>Log Out</button>
            <button type="button" class="clearbutton" onclick=clearStorage()>Clear Storage</button>
            <button type="button" class="settingsbutton" onclick="document.getElementById('settingsWindow').style.display = 'block'">Settings</button>
        </div>

        <div id="savePasswordArea">
                <h3>Save Password to Password Storage</h3>
                <form> 
                    <label for="webpage">Webpage Name:</label> <br>
                    <input type="text" id="webpage" name="webpage" value="" style="width: 580px; height:25px;"><br><br>
                    <label for="username">Username/Email:</label><br>
                    <input type="text" id="username" name="username" value="" style="width: 580px; height:25px;"><br><br>
                    <label for="password">Password:</label><br>
                    <input type="password" id="password" name="password" value="" style="width: 580px; height:25px;"><br><br>
                    <button onclick=savePassword() type="button" style="height: 40px; width: 600px;">Submit</button>
                </form>
        </div>
        
        <div id="deletePasswordArea">
            <h3>Delete Password from Password Storage</h3>
            <form>
                <label for="webpage">Webpage Name:</label> <br>
                <input type="text" id="deletewebpage" name="deletewebpage" value="" style="width: 580px; height:25px;" ><br><br>
                <button onclick=deletePassword() type="button" style="height: 40px; width: 600px;">Delete</button>
            </form>
        </div>

        <div id="showPasswordArea">
                <h3>Stored Passwords</h3>
                <p>Click on a website name to edit that password</p>
                <button onclick="togglePasswordVisibility()">Toggle Passwords Visibility</button> <br><br>
                <table id="passwordTable">
                    <thead>
                        <tr>
                            <th>Website Name</th>
                            <th>Username/Email</th>
                            <th>Password</th>
                        </tr>
                    </thead>
                    <tbody id="passwordTableBody">
                        <!-- Password entries will be dynamically populated here -->
                    </tbody>
                </table>                
        </div>

        <div id="checkPasswordArea" class="group">
            <h3>Password Strength Checker</h3>
            <label for="passwordCheck">Enter Password below:</label>
            <input type="text" 
                   id="passwordCheck"
                   placeholder="Type your password here" />
            <button type="button" id="checkPasswordButton" onclick="checkPasswordStrength()">Check Password</button>
            <label for="">
                  Strength of password
              </label>
            <div class="power-container">
                <div id="power-point"></div>
            </div>
        </div>

        <div id="generatePasswordArea">
            <h3>Password Generator</h3>
            <p id="passwordgen" style="display:none;">Generated Password:</p>
            <label for="numofchar">Characters:</label><input type="number" id="numofchar" style="height:10px; width:50px;" min="1" max="100">
            <div>
            <div style="display: flex; flex-direction: column;">
                <label>Lowercase<input type="checkbox" id="lchar" checked></label>
                <label>Uppercase<input type="checkbox" id="uchar" checked></label>
                <label>Numbers<input type="checkbox" id="num" checked></label>
                <label>Symbols<input type="checkbox" id="sym" checked></label>
            </div>
            </div>
            <button onclick="generatePassword()" style="width: 100%;">Generate</button>
        </div>

        <div id="searchContainer">
            <input type="text" id="passwordSearch" placeholder="Search passwords...">
            <button class="searchbutton" onclick="searchPassword()">Search</button>
        </div>
        
        <div id="searchResultsModal" class="searchResultsModal" style="display: none;">
            <button onclick="closeSearchResults()" type="button">Close</button>
            <h2>Search Results</h2>
            <div id="searchResults"></div>
        </div>

        <div id="settingsWindow" class="editModal" style="display:none">
            <button id="savemodalclose" onclick="document.getElementById('settingsWindow').style.display = 'none'" type="button" >Close</button>
            <h2>Settings Page</h2>
            <h3>Background Colour Menu</h3>
            <button onclick="changeBGColour('Blue')" style="width: 150px;">Blue</button>
            <button onclick="changeBGColour('red')" style="width: 150px;">Red</button>
            <button onclick="changeBGColour('green')" style="width: 150px;">Green</button>
            <button onclick="changeBGColour('white')" style="width: 150px;">White</button>
            <button onclick="changeBGColour('#d0e0ff')"style="width: 150px;">Deafult</button>
        </div>
    </body>
</html>
